//
//  <%= @name %>ViewController.swift
//  <%= @xcodeModuleName %>
//
//  Created by Andy Bell on <%= Time.now.strftime("%m/%d/%Y") %>.
//  Copyright Â© <%= Time.now.strftime("%Y") %> <%= @companyName %>. All rights reserved.
//

import UIKit

class <%= @name %>ViewController: UIViewController {

    // IBOutlets here

    var viewModel: <%= @name %>ViewModelDelegate? {
        willSet {
            viewModel?.viewDelegate = nil
        }
        didSet {
            viewModel?.viewDelegate = self
            refreshDisplay()
        }
    }

    fileprivate var isLoaded: Bool = false

    override func viewDidLoad()
    {
        super.viewDidLoad()
        isLoaded = true;
        refreshDisplay()
    }

    fileprivate func refreshDisplay()
    {
        guard isLoaded else { return }
        if let viewModel = viewModel {
            // set UI from vieModel here
        } else {
            // or set default UI
        }
    }

}

extension <%= @name %>ViewController: <%= @name %>ViewModelViewDelegate
{
    func modelDidChange(viewModel: <%= @name %>ViewModelDelegate)
    {
        refreshDisplay()
    }
}